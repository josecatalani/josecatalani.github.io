!function(){function init(){window.addEventListener("scroll",noscroll),initEvents(),initHeader(),initAnimation(),addListeners()}function initEvents(){openbtn.addEventListener("click",toggleMenu),closebtn&&closebtn.addEventListener("click",toggleMenu),content.addEventListener("click",function(ev){var target=ev.target;isOpen&&target!==openbtn&&toggleMenu()})}function toggleMenu(){isOpen?classie.remove(bodyEl,"show-menu"):classie.add(bodyEl,"show-menu"),isOpen=!isOpen}function noscroll(){window.scrollTo(0,0)}function toggleContent(attr){classie.has(containerInternal,"container--open")?(classie.remove(containerInternal,"container--open"),classie.remove(document.getElementById("trigger"),"trigger--active"),window.addEventListener("scroll",noscroll)):(void 0!=attr&&([].slice.call(document.querySelectorAll(".items-wrap")).forEach(function(el){el.style.display="none"}),document.getElementById(attr).style.display="block"),classie.add(containerInternal,"container--open"),classie.add(document.getElementById("trigger"),"trigger--active"),window.removeEventListener("scroll",noscroll)),toggleMenu()}function initHeader(){width=window.innerWidth,height=window.innerHeight,target={x:width/2,y:height/2},largeHeader=document.getElementById("large-header"),largeHeader.style.height=height+"px",canvas=document.getElementById("demo-canvas"),canvas.width=width,canvas.height=height,ctx=canvas.getContext("2d"),points=[];for(var x=0;width>x;x+=width/20)for(var y=0;height>y;y+=height/20){var px=x+Math.random()*width/20,py=y+Math.random()*height/20,p={x:px,originX:px,y:py,originY:py};points.push(p)}for(var i=0;i<points.length;i++){for(var closest=[],p1=points[i],j=0;j<points.length;j++){var p2=points[j];if(p1!=p2){for(var placed=!1,k=0;5>k;k++)placed||void 0==closest[k]&&(closest[k]=p2,placed=!0);for(var k=0;5>k;k++)placed||getDistance(p1,p2)<getDistance(p1,closest[k])&&(closest[k]=p2,placed=!0)}}p1.closest=closest}for(var i in points){var c=new Circle(points[i],2+2*Math.random(),"rgba(255,214,64,0.3)");points[i].circle=c}}function addListeners(){"ontouchstart"in window||window.addEventListener("mousemove",mouseMove),window.addEventListener("scroll",scrollCheck),window.addEventListener("resize",resize)}function mouseMove(e){var posx=posy=0;e.pageX||e.pageY?(posx=e.pageX,posy=e.pageY):(e.clientX||e.clientY)&&(posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),target.x=posx,target.y=posy}function scrollCheck(){animateHeader=document.body.scrollTop>height?!1:!0}function resize(){width=window.innerWidth,height=window.innerHeight,largeHeader.style.height=height+"px",canvas.width=width,canvas.height=height}function initAnimation(){animate();for(var i in points)shiftPoint(points[i])}function animate(){if(animateHeader){ctx.clearRect(0,0,width,height);for(var i in points)Math.abs(getDistance(target,points[i]))<4e3?(points[i].active=.3,points[i].circle.active=.6):Math.abs(getDistance(target,points[i]))<2e4?(points[i].active=.1,points[i].circle.active=.3):Math.abs(getDistance(target,points[i]))<4e4?(points[i].active=.02,points[i].circle.active=.1):(points[i].active=0,points[i].circle.active=0),drawLines(points[i]),points[i].circle.draw()}requestAnimationFrame(animate)}function shiftPoint(p){TweenLite.to(p,1+1*Math.random(),{x:p.originX-50+100*Math.random(),y:p.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){shiftPoint(p)}})}function drawLines(p){if(p.active)for(var i in p.closest)ctx.beginPath(),ctx.moveTo(p.x,p.y),ctx.lineTo(p.closest[i].x,p.closest[i].y),ctx.strokeStyle="rgba(255,214,64,"+p.active+")",ctx.stroke()}function Circle(pos,rad,color){var _this=this;!function(){_this.pos=pos||null,_this.radius=rad||null,_this.color=color||null}(),this.draw=function(){_this.active&&(ctx.beginPath(),ctx.arc(_this.pos.x,_this.pos.y,_this.radius,0,2*Math.PI,!1),ctx.fillStyle="rgba(255,214,64,"+_this.active+")",ctx.fill())}}function getDistance(p1,p2){return Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2)}var width,height,largeHeader,canvas,ctx,points,target,bodyEl=document.body,content=document.querySelector(".content-wrap"),openbtn=document.getElementById("open-button"),closebtn=document.getElementById("close-button"),isOpen=!1,containerInternal=document.getElementById("intro-container"),trigger=document.getElementById("projects-menu"),animateHeader=!0;document.body.scrollTop=document.documentElement.scrollTop=0,window.addEventListener("scroll",noscroll),trigger.addEventListener("click",function(){toggleContent("projects")},!1),document.getElementById("trigger").addEventListener("click",function(){toggleContent("projects")},!1),document.getElementById("about-menu").addEventListener("click",function(){toggleContent("about")},!1),document.getElementById("contact-menu").addEventListener("click",function(){toggleContent("contact")},!1),document.getElementById("comments-menu").addEventListener("click",function(){toggleContent("comments")},!1),[].slice.call(document.querySelectorAll(".items-wrap a")).forEach(function(){}),init()}();